(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){e.exports=a(36)},21:function(e,t,a){},32:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(9),o=a.n(s),c=(a(21),a(1)),l=a(2),r=a(4),m=a(3),u=a(6),d=a(5),h=a(7),p=a.n(h),v=(a(32),new(a(14).EventEmitter)),f=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(m.a)(t).call(this,e))).state={top:10,moveTime:10},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){v.removeListener(this.eventEmitter)}},{key:"componentDidMount",value:function(){var e=this;this.eventEmitter=v.addListener("receiveData",function(t){var a=t.bulletText;!function(){for(var t=[],n=a,s=a.length,o=e.state.moveTime,c=e.state.top,l=0;l<s;l++){var r={text:n[l],top:Math.floor(Math.random()*(c+30))+c+"px",moveTime:Math.ceil(Math.random()*o)+5+"s"};t.push(r)}var m=t.map(function(e,t){return console.log(e),i.a.createElement("div",{key:t,className:"bullet",style:{top:e.top,animationDuration:e.moveTime}},e.text)});e.setState({bullets:m})}()})}},{key:"render",value:function(){return i.a.createElement("div",{className:"barrage-wrap"},this.state.bullets||"")}}]),t}(n.Component);a(33);p.a.setAppElement("#root"),p.a.defaultStyles.overlay.backgroundColor="rgba(0,0,0,.5)",p.a.defaultStyles.overlay.zIndex=10;var b={content:{top:"40%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none",textAlign:"center"}},E=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(r.a)(this,Object(m.a)(t).call(this))).state={openDialog:!1,actionDisplay:"none",baseInfo:{},missionAndAward:{}},e.closeDialog=e.closeDialog.bind(Object(u.a)(e)),e.openDialog=e.openDialog.bind(Object(u.a)(e)),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.eventEmitter=v.addListener("hasFeedFish",function(){var t=e.state.baseInfo;t.hasFeed=!1,e.setState({baseInfo:t})}),this.eventEmitter=v.addListener("clickBubble",function(t){fetch("https://www.tianqiapi.com/api/?version=v1").then(function(e){return e.json()}).then(function(a){var n=e.state.baseInfo;n.intimacyCount=n.intimacyCount+t.text,setTimeout(function(){e.setState({intimacyClass:!0}),setTimeout(function(){e.setState({intimacyClass:!1,baseInfo:n})},1e3)},700)})})}},{key:"componentWillMount",value:function(){var e=this;fetch("https://www.tianqiapi.com/api/?version=v1").then(function(e){return e.json()}).then(function(t){var a={bulletText:["\u5f39\u5e55\u6587\u672c\u5f39\u5e55\u6587\u672c\ud83d\ude04~hello","\u5f39\u5e55\u6587\u672c\u5f39\u5e55\u6587\u672c\ud83d\ude04~world","\u5f39\u5e55\u6587\u672c\u5f39\u5e55\u6587\u672c\ud83d\ude04~fighting"],bubbleData:[3,10,30],baseInfo:{medalText:"\u94f6\u7c89",intimacyCount:23456,feedNum:10,hasFeed:!1,missionCount:3,awardCount:2,shopName:"\u54c8\u54c8\u54c8\u5b98\u65b9\u65d7\u8230\u5e97",userPic:"https://gw.alicdn.com/tfs/TB1dQokcbj1gK0jSZFOXXc7GpXa-500-500.jpg",ruleHTML:"\u6e38\u620f\u89c4\u5219\u5199\u5728\u8fd9\u91cc\u6e38\u620f\u89c4\u5219\u5199\u5728\u8fd9\u91cc\u6e38\u620f \n          \u6e38\u620f\u89c4\u5219\u5199\u5728\u8fd9\u91cc\u6e38\u620f\u89c4\u5219\u5199\u5728\u8fd9\u91cc\u6e38\u620f\n          <ul>\n            <li>\u89c4\u52191</li>\n            <p>\u6e38\u620f\u89c4\u5219\u5199\u5728\u8fd9\u91cc\u6e38\u620f\u89c4\u5219\u5199\u5728\u8fd9\u91cc\u6e38\u620f</p>\n            <li>\u89c4\u52191</li>\n            <p>\u6e38\u620f\u89c4\u5219\u5199\u5728\u8fd9\u91cc\u6e38\u620f\u89c4\u5219\u5199\u5728\u8fd9\u91cc\u6e38\u620f</p>\n            <li>\u89c4\u52191</li>\n            <p>\u6e38\u620f\u89c4\u5219\u5199\u5728\u8fd9\u91cc\u6e38\u620f\u89c4\u5219\u5199\u5728\u8fd9\u91cc\u6e38\u620f</p>\n          </ul>",shopHTML:"<span>\u5e97\u94fa\u7cbe\u9009\u7528html\u4f20\u5165</span>",bgImg:"https://img.alicdn.com/tfs/TB1qGGacAL0gK0jSZFtXXXQCXXa-750-1223.png",grassImg:"https://gw.alicdn.com/tfs/TB1kFuacEH1gK0jSZSyXXXtlpXa-750-1223.png",pondImg:"https://img.alicdn.com/tfs/TB1qGGacAL0gK0jSZFtXXXQCXXa-750-1223.png",pondTitle:"\u9c7c\u5858",pondDesc:"\u9c7c\u5858\u63cf\u8ff0",shopUp:"20",bgAudio:"https://projecttemp.oss-cn-hangzhou.aliyuncs.com/%E8%83%8C%E6%99%AF%E9%9F%B3%E4%B9%90.mp3",feedAudio:"https://projecttemp.oss-cn-hangzhou.aliyuncs.com/%E6%B0%B4%E5%A3%B02.mp3"}};v.emit("receiveData",a);var n=a.baseInfo;e.setState({baseInfo:n})})}},{key:"closeDialog",value:function(){this.setState({openDialog:!1})}},{key:"openDialog",value:function(){this.setState({openDialog:!0})}},{key:"actionClick",value:function(){var e=this;fetch("https://www.tianqiapi.com/api/?version=v1").then(function(e){return e.json()}).then(function(t){e.setState({actionDisplay:"",missionAndAward:{title:"\u4efb\u52a1",html:"<span>\u52a8\u6001\u4f20\u5165\u7684\u4efb\u52a1\uff0c\u6216\u8005\u5956\u54c1\u7684html</span>"}})})}},{key:"closeAction",value:function(){this.setState({actionDisplay:"none"})}},{key:"feedClick",value:function(){var e=this,t=this.state.baseInfo,a=t.feedNum,n=t.hasFeed,i=t.feedAudio;if(a>0){if(n)return;v.emit("fishEat");var s=this.state.baseInfo;s.hasFeed=!0,s.feedNum=a-1,s._feedAudio=i,this.setState({baseInfo:s}),setTimeout(function(){s._feedAudio="",e.setState({baseInfo:s})},2500)}}},{key:"render",value:function(){var e=this.state,t=e.baseInfo,a=e.missionAndAward,n=e.intimacyClass;return i.a.createElement("div",null,i.a.createElement("div",{className:"App-fish",style:{background:"url(".concat(t.bgImg,") center / cover")}},i.a.createElement(f,null),i.a.createElement("div",{className:"shop-name"},t.shopName),i.a.createElement("div",{className:"info-wrap"},i.a.createElement("img",{className:"avater",src:t.userPic}),i.a.createElement("div",{className:"medal"},i.a.createElement("span",{className:"medal-text"},t.medalText)),i.a.createElement("div",{className:"intimacy-wrap"},i.a.createElement("img",{src:"https://b2.bmp.ovh/imgs/2019/08/8766db125eff1691.png",className:n?"animated  heartBeat intimacy-icon":"intimacy-icon"}),i.a.createElement("div",{className:"intimacy-count"},t.intimacyCount))),i.a.createElement("div",{className:"rule"},i.a.createElement("div",{className:"rule-text",onClick:this.openDialog},"\u89c4\u5219\u8bf4\u660e"))),i.a.createElement("div",{className:"bg-wrap"},i.a.createElement("div",{className:"rule"},i.a.createElement("div",{className:"rule-text",onClick:this.openDialog},"\u89c4\u5219\u8bf4\u660e"))),i.a.createElement("div",{className:"App-shop",style:t.shopUp?{marginTop:"-".concat(t.shopUp,"px")}:{}},i.a.createElement("div",{className:"title"},"\u5e97\u94fa\u7cbe\u9009"),i.a.createElement("div",{className:"body"},i.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.shopHTML}}))),i.a.createElement(p.a,{isOpen:this.state.openDialog,style:b},i.a.createElement("div",{className:"dialog animated  bounceIn"},i.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.ruleHTML}})),i.a.createElement("div",{className:"dialog-close",onClick:this.closeDialog})),i.a.createElement("div",{className:"custom-dialog animated  bounceInUp",style:{display:this.state.actionDisplay}},i.a.createElement("div",{className:"title",onClick:this.closeAction.bind(this)},a.title),i.a.createElement("div",{className:"body"},i.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.html}}))),i.a.createElement("div",{className:"bg-wrap",style:t.shopUp?{marginTop:"-".concat(t.shopUp,"px")}:{}},i.a.createElement("div",{className:"fishpond-info"},i.a.createElement("img",{className:"pondimg",src:t.pondImg}),i.a.createElement("div",{className:"title"},t.pondTitle),i.a.createElement("div",{className:"desc"},t.pondDesc)),i.a.createElement("div",{className:"actions"},i.a.createElement("div",{className:"feed",onClick:this.feedClick.bind(this,"feed")},i.a.createElement("span",{className:"count"},t.feedNum)),i.a.createElement("div",{className:"mission",onClick:this.actionClick.bind(this,"mission")},i.a.createElement("span",{className:"count"},t.missionCount)),i.a.createElement("div",{className:"award",onClick:this.actionClick.bind(this,"award")},i.a.createElement("span",{className:"count"},t.awardCount)))),i.a.createElement("div",{className:"grass-wrap"},i.a.createElement("div",{className:"grass",style:{background:"url(".concat(t.grassImg,") center/cover")}})),i.a.createElement("audio",{src:t.bgAudio,autoPlay:!0,loop:!0}),i.a.createElement("audio",{src:t._feedAudio,autoPlay:!0}))}}]),t}(i.a.Component),g=(a(34),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(m.a)(t).call(this,e))).state={eating:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.eating||!1,a=[1,2,3,4,5].map(function(e,t){var a="fish"+e;return i.a.createElement("div",{key:t,className:a})});this.setState({fishes:a}),this.eventEmitter=v.addListener("fishEat",function(){if(!t){var a="fish-eat"+(Math.floor(5*Math.random())+1);e.setState({eating:!0,fishEatNum:a}),setTimeout(function(){v.emit("hasFeedFish"),e.setState({eating:!1})},2500)}})}},{key:"componentWillUnmount",value:function(){v.removeListener(this.eventEmitter)}},{key:"render",value:function(){var e=this.state,t=e.eating,a=e.fishes,n=e.fishEatNum;return i.a.createElement("div",{className:"fishes-wrap"},i.a.createElement("div",{className:"bg-bubble"}),i.a.createElement("div",{className:"turtle"}),i.a.createElement("div",{className:"preloader-fish-eat"}),a,t?i.a.createElement("div",{className:n}):"",i.a.createElement("img",{src:"",alt:""}))}}]),t}(n.Component)),y=(a(35),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(m.a)(t).call(this,e))).state={bubbleArr:[],canClick:!0},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){v.removeListener(this.eventEmitter)}},{key:"componentDidMount",value:function(){var e=this;this.eventEmitter=v.addListener("receiveData",function(t){for(var a=t.bubbleData,n=e.state.bubbleArr,i=0;i<a.length;i++){var s={text:a[i],top:(Math.floor(500*Math.random())+440)/750*100+"vw",left:Math.floor(80*Math.random())+"vw",fly:!1};n.push(s)}e.setState(n)})}},{key:"clickBubble",value:function(e){var t=this,a=this.state,n=a.bubbleArr;a.canClick&&(n[e].fly=!0,this.setState({bubbleArr:n,canClick:!1}),v.emit("clickBubble",n[e]),setTimeout(function(){t.setState({canClick:!0})},1e3))}},{key:"render",value:function(){var e=this,t=this.state.bubbleArr.map(function(t,a){var n=Math.floor(7*Math.random())+3+"s";return i.a.createElement("div",{className:"animated pulse slower infinite",style:{animationDuration:n},key:a},i.a.createElement("div",{className:t.fly?"bubble fly-to-intimacy":"bubble",style:{top:t.top,left:t.left},onClick:e.clickBubble.bind(e,a)},"+",t.text))});return i.a.createElement("div",{className:"bubble-wrap"},t||"")}}]),t}(n.Component));var N=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(E,null),i.a.createElement(g,null),i.a.createElement(y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[15,1,2]]]);
//# sourceMappingURL=main.b9d499fe.chunk.js.map